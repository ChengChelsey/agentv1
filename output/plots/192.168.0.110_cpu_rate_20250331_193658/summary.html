<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>192.168.0.110 cpu_rate 异常检测汇总图</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
    <style>
        body { margin: 0; padding: 0; }
        #container { width: 100%; height: 100vh; }
        #chart_summary_3893f26a { width: 100%; height: 650px; }
        
        /* 异常点提示样式 */
        .anomaly-tooltip {
            background-color: rgba(255, 255, 255, 0.9);
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 10px;
            box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);
            font-family: Arial, sans-serif;
            font-size: 14px;
            color: #333;
            max-width: 300px;
        }
        .anomaly-tooltip-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: #d23;
        }
        .anomaly-tooltip-item {
            display: flex;
            margin: 2px 0;
        }
        .anomaly-tooltip-label {
            font-weight: bold;
            margin-right: 8px;
            color: #666;
            min-width: 60px;
        }
        .anomaly-tooltip-value {
            color: #333;
        }
    </style>
</head>
<body>
    <div id="container">
        <div id="chart_summary_3893f26a"></div>
    </div>
    <script>
        var chart = echarts.init(document.getElementById('chart_summary_3893f26a'));
        var option = {"title": {"text": "192.168.0.110 cpu_rate 异常检测汇总图", "left": "center"}, "tooltip": {"trigger": "axis", "axisPointer": {"type": "cross"}, "confine": true, "backgroundColor": "rgba(255, 255, 255, 0.9)", "borderColor": "#ccc", "borderWidth": 1, "textStyle": {"color": "#333"}, "extraCssText": "box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);"}, "legend": {"top": 30, "data": ["原始序列", "CUSUM 辅助曲线"]}, "grid": {"left": "3%", "right": "8%", "bottom": "8%", "containLabel": true}, "toolbox": {"feature": {"saveAsImage": {}, "dataZoom": {}, "restore": {}}}, "xAxis": {"type": "time", "name": "时间", "axisLabel": {"formatter": "{yyyy}-{MM}-{dd} {HH}:{mm}", "rotate": 30, "margin": 15}}, "yAxis": [{"type": "value", "name": "数值", "position": "left"}, {"type": "value", "name": "辅助曲线值", "position": "right", "splitLine": {"show": false}}], "series": [{"name": "原始序列", "type": "line", "data": [[1743264000000, 0.34], [1743264300000, 0.28], [1743264600000, 0.31], [1743264900000, 0.31], [1743265200000, 0.3], [1743265500000, 0.29], [1743265800000, 0.32], [1743266100000, 0.32], [1743266400000, 0.26], [1743266700000, 0.32], [1743267000000, 0.3], [1743267300000, 0.29], [1743267600000, 0.31], [1743267900000, 0.32], [1743268200000, 0.29], [1743268500000, 1.3], [1743268800000, 1.42], [1743269100000, 0.26], [1743269400000, 0.3], [1743269700000, 0.27], [1743270000000, 0.31], [1743270300000, 0.32], [1743270600000, 0.29], [1743270900000, 0.34], [1743271200000, 0.26], [1743271500000, 0.31], [1743271800000, 0.29], [1743272100000, 0.34], [1743272400000, 2.02], [1743272700000, 0.31], [1743273000000, 0.29], [1743273300000, 0.26], [1743273600000, 0.33], [1743273900000, 0.27], [1743274200000, 0.29], [1743274500000, 0.27], [1743274800000, 0.31], [1743275100000, 0.29], [1743275400000, 0.29], [1743275700000, 0.31], [1743276000000, 1.88], [1743276300000, 0.27], [1743276600000, 0.26], [1743276900000, 0.32], [1743277200000, 0.29], [1743277500000, 0.32], [1743277800000, 0.28], [1743278100000, 0.3], [1743278400000, 0.33], [1743278700000, 0.29], [1743279000000, 0.33], [1743279300000, 0.31], [1743279600000, 2.0], [1743279900000, 0.29], [1743280200000, 0.34], [1743280500000, 0.3], [1743280800000, 0.34], [1743281100000, 0.29], [1743281400000, 0.32], [1743281700000, 0.29], [1743282000000, 0.32], [1743282300000, 0.33], [1743282600000, 0.3], [1743282900000, 0.55], [1743283200000, 2.01], [1743283500000, 0.35], [1743283800000, 0.31], [1743284100000, 0.29], [1743284400000, 0.27], [1743284700000, 0.29], [1743285000000, 0.34], [1743285300000, 0.26], [1743285600000, 0.33], [1743285900000, 0.26], [1743286200000, 0.28], [1743286500000, 0.26], [1743286800000, 2.03], [1743287100000, 0.24], [1743287400000, 0.35], [1743287700000, 0.28], [1743288000000, 0.27], [1743288300000, 0.29], [1743288600000, 0.29], [1743288900000, 0.31], [1743289200000, 0.31], [1743289500000, 0.34], [1743289800000, 0.31], [1743290100000, 0.35], [1743290400000, 1.96], [1743290700000, 0.32], [1743291000000, 0.29], [1743291300000, 0.34], [1743291600000, 0.34], [1743291900000, 0.3], [1743292200000, 0.33], [1743292500000, 0.25], [1743292800000, 0.33], [1743293100000, 0.27], [1743293400000, 0.3], [1743293700000, 0.45], [1743294000000, 2.04], [1743294300000, 0.35], [1743294600000, 0.32], [1743294900000, 0.31], [1743295200000, 0.27], [1743295500000, 0.29], [1743295800000, 0.29], [1743296100000, 0.28], [1743296400000, 0.31], [1743296700000, 0.28], [1743297000000, 0.31], [1743297300000, 0.34], [1743297600000, 2.07], [1743297900000, 0.29], [1743298200000, 0.35], [1743298500000, 0.26], [1743298800000, 0.34], [1743299100000, 0.27], [1743299400000, 0.32], [1743299700000, 0.31], [1743300000000, 0.32], [1743300300000, 0.31], [1743300600000, 0.29], [1743300900000, 0.56], [1743301200000, 2.04], [1743301500000, 0.33], [1743301800000, 0.36], [1743302100000, 0.29], [1743302400000, 0.4], [1743302700000, 0.29], [1743303000000, 0.33], [1743303300000, 0.28], [1743303600000, 0.39], [1743303900000, 0.3], [1743304200000, 0.33], [1743304500000, 0.84], [1743304800000, 2.08], [1743305100000, 0.29], [1743305400000, 0.3], [1743305700000, 0.33], [1743306000000, 0.29], [1743306300000, 0.34], [1743306600000, 1.64], [1743306900000, 0.31], [1743307200000, 0.34], [1743307500000, 0.36], [1743307800000, 1.94], [1743308100000, 0.81], [1743308400000, 2.08], [1743308700000, 0.29], [1743309000000, 0.62], [1743309300000, 0.31], [1743309600000, 0.36], [1743309900000, 0.29], [1743310200000, 0.39], [1743310500000, 0.3], [1743310800000, 0.32], [1743311100000, 0.33], [1743311400000, 0.36], [1743311700000, 0.69], [1743312000000, 2.06], [1743312300000, 0.35], [1743312600000, 0.36], [1743312900000, 0.3], [1743313200000, 0.32], [1743313500000, 0.33], [1743313800000, 0.31], [1743314100000, 0.35], [1743314400000, 0.37], [1743314700000, 0.33], [1743315000000, 0.36], [1743315300000, 0.44], [1743315600000, 1.96], [1743315900000, 0.34], [1743316200000, 0.4], [1743316500000, 0.28], [1743316800000, 0.37], [1743317100000, 0.3], [1743317400000, 0.32], [1743317700000, 0.38], [1743318000000, 0.34], [1743318300000, 0.34], [1743318600000, 0.29], [1743318900000, 0.58], [1743319200000, 2.02], [1743319500000, 0.37], [1743319800000, 0.32], [1743320100000, 0.28], [1743320400000, 0.36], [1743320700000, 0.27], [1743321000000, 0.37], [1743321300000, 0.3], [1743321600000, 0.4], [1743321900000, 0.3], [1743322200000, 0.32], [1743322500000, 0.66], [1743322800000, 1.93], [1743323100000, 0.33], [1743323400000, 0.35], [1743323700000, 0.32], [1743324000000, 0.31], [1743324300000, 0.29], [1743324600000, 0.32], [1743324900000, 0.34], [1743325200000, 0.32], [1743325500000, 0.31], [1743325800000, 0.3], [1743326100000, 0.59], [1743326400000, 2.08], [1743326700000, 0.28], [1743327000000, 0.33], [1743327300000, 1.09], [1743327600000, 0.34], [1743327900000, 0.35], [1743328200000, 0.31], [1743328500000, 0.35], [1743328800000, 0.29], [1743329100000, 0.32], [1743329400000, 0.34], [1743329700000, 0.59], [1743330000000, 2.04], [1743330300000, 0.31], [1743330600000, 0.32], [1743330900000, 0.34], [1743331200000, 0.33], [1743331500000, 0.29], [1743331800000, 0.38], [1743332100000, 0.35], [1743332400000, 0.38], [1743332700000, 0.27], [1743333000000, 0.31], [1743333300000, 0.58], [1743333600000, 2.03], [1743333900000, 0.3], [1743334200000, 0.3], [1743334500000, 0.3], [1743334800000, 0.29], [1743335100000, 0.31], [1743335400000, 0.3], [1743335700000, 0.3], [1743336000000, 0.29], [1743336300000, 0.33], [1743336600000, 0.35], [1743336900000, 0.53], [1743337200000, 1.9], [1743337500000, 0.31], [1743337800000, 0.33], [1743338100000, 0.31], [1743338400000, 0.36], [1743338700000, 0.31], [1743339000000, 0.36], [1743339300000, 0.26], [1743339600000, 0.34], [1743339900000, 0.3], [1743340200000, 0.36], [1743340500000, 0.61], [1743340800000, 1.95], [1743341100000, 0.32], [1743341400000, 0.29], [1743341700000, 0.29], [1743342000000, 0.33], [1743342300000, 0.35], [1743342600000, 0.31], [1743342900000, 0.29], [1743343200000, 0.32], [1743343500000, 0.29], [1743343800000, 0.34], [1743344100000, 0.67], [1743344400000, 2.04], [1743344700000, 0.31], [1743345000000, 0.31], [1743345300000, 0.27], [1743345600000, 0.37], [1743345900000, 0.27], [1743346200000, 0.32], [1743346500000, 0.27], [1743346800000, 0.28], [1743347100000, 0.29], [1743347400000, 0.3], [1743347700000, 0.6], [1743348000000, 2.04], [1743348300000, 0.31], [1743348600000, 0.27], [1743348900000, 0.3], [1743349200000, 0.33], [1743349500000, 0.35], [1743349800000, 0.28], [1743350100000, 0.26]], "symbolSize": 0, "lineStyle": {"width": 2}, "itemStyle": {"color": "#5470C6"}, "markArea": {"data": [[{"xAxis": 1743308400000, "itemStyle": {"color": "rgba(255, 100, 100, 0.2)"}, "anomalyInfo": {"id": 1, "method": "CUSUM", "startTime": "2025-03-30 12:20:00", "endTime": "2025-03-30 12:20:00", "explanation": "CUSUM值=5.35，累计偏移超过阈值(5.0)"}}, {"xAxis": 1743308400000}]], "emphasis": {"focus": "self"}}}, {"name": "CUSUM 辅助曲线", "type": "line", "yAxisIndex": 1, "data": [[1743264000000, 0.0], [1743264300000, 0.0], [1743264600000, 0.0], [1743264900000, 0.0], [1743265200000, 0.0], [1743265500000, 0.0], [1743265800000, 0.0], [1743266100000, 0.0], [1743266400000, 0.0], [1743266700000, 0.0], [1743267000000, 0.0], [1743267300000, 0.0], [1743267600000, 0.0], [1743267900000, 0.0], [1743268200000, 0.0], [1743268500000, 1.1304673966193763], [1743268800000, 2.514259739134913], [1743269100000, 1.4492442713208953], [1743269400000, 0.46867045213893166], [1743269700000, 0.0], [1743270000000, 0.0], [1743270300000, 0.0], [1743270600000, 0.0], [1743270900000, 0.0], [1743271200000, 0.0], [1743271500000, 0.0], [1743271800000, 0.0], [1743272100000, 0.0], [1743272400000, 2.650417071996341], [1743272700000, 1.6909536649723904], [1743273000000, 0.6892694336324133], [1743273300000, 0.0], [1743273600000, 0.0], [1743273900000, 0.0], [1743274200000, 0.0], [1743274500000, 0.0], [1743274800000, 0.0], [1743275100000, 0.0], [1743275400000, 0.0], [1743275700000, 0.0], [1743276000000, 2.354871301784153], [1743276300000, 1.310966246128149], [1743276600000, 0.2459507783141318], [1743276900000, 0.0], [1743277200000, 0.0], [1743277500000, 0.0], [1743277800000, 0.0], [1743278100000, 0.0], [1743278400000, 0.0], [1743278700000, 0.0], [1743279000000, 0.0], [1743279300000, 0.0], [1743279600000, 2.608196247680314], [1743279900000, 1.6065120163403366], [1743280200000, 0.7103798457904266], [1743280500000, 0.0], [1743280800000, 0.0], [1743281100000, 0.0], [1743281400000, 0.0], [1743281700000, 0.0], [1743282000000, 0.0], [1743282300000, 0.0], [1743282600000, 0.0], [1743282900000, 0.0], [1743283200000, 2.6293066598383272], [1743283500000, 1.7542849014464301], [1743283800000, 0.7948214944224797], [1743284100000, 0.0], [1743284400000, 0.0], [1743284700000, 0.0], [1743285000000, 0.0], [1743285300000, 0.0], [1743285600000, 0.0], [1743285900000, 0.0], [1743286200000, 0.0], [1743286500000, 0.0], [1743286800000, 2.6715274841543537], [1743287100000, 1.5642911920243097], [1743287400000, 0.6892694336324129], [1743287700000, 0.0], [1743288000000, 0.0], [1743288300000, 0.0], [1743288600000, 0.0], [1743288900000, 0.0], [1743289200000, 0.0], [1743289500000, 0.0], [1743289800000, 0.0], [1743290100000, 0.0], [1743290400000, 2.5237545990482606], [1743290700000, 1.5854016041823238], [1743291000000, 0.5837173728423467], [1743291300000, 0.0], [1743291600000, 0.0], [1743291900000, 0.0], [1743292200000, 0.0], [1743292500000, 0.0], [1743292800000, 0.0], [1743293100000, 0.0], [1743293400000, 0.0], [1743293700000, 0.0], [1743294000000, 2.692637896312368], [1743294300000, 1.8176161379204712], [1743294600000, 0.8792631430545342], [1743294900000, 0.0], [1743295200000, 0.0], [1743295500000, 0.0], [1743295800000, 0.0], [1743296100000, 0.0], [1743296400000, 0.0], [1743296700000, 0.0], [1743297000000, 0.0], [1743297300000, 0.0], [1743297600000, 2.7559691327864075], [1743297900000, 1.7542849014464301], [1743298200000, 0.8792631430545333], [1743298500000, 0.0], [1743298800000, 0.0], [1743299100000, 0.0], [1743299400000, 0.0], [1743299700000, 0.0], [1743300000000, 0.0], [1743300300000, 0.0], [1743300600000, 0.0], [1743300900000, 0.0], [1743301200000, 2.692637896312368], [1743301500000, 1.7753953136044442], [1743301800000, 0.9214839673705609], [1743302100000, 0.0], [1743302400000, 0.0], [1743302700000, 0.0], [1743303000000, 0.0], [1743303300000, 0.0], [1743303600000, 0.0], [1743303900000, 0.0], [1743304200000, 0.0], [1743304500000, 0.1593884373507598], [1743304800000, 2.9364679822951816], [1743305100000, 1.9347837509552042], [1743305400000, 0.9542099317732405], [1743305700000, 0.03696734906531707], [1743306000000, 0.0], [1743306300000, 0.0], [1743306600000, 1.8482214099918313], [1743306900000, 0.8887580029678809], [1743307200000, 0.0], [1743307500000, 0.0], [1743307800000, 2.4815337747322337], [1743308100000, 2.5775909756089534], [1743308400000, 5.354670520553375], [1743308700000, 4.352986289213399], [1743309000000, 4.047945659087864], [1743309300000, 3.0884822520639132], [1743309600000, 2.23457090583003], [1743309900000, 1.2328866744900528], [1743310200000, 0.4423065647302097], [1743310500000, 0.0], [1743310800000, 0.0], [1743311100000, 0.0], [1743311400000, 0.0], [1743311700000, 0.0], [1743312000000, 2.7348587206283947], [1743312300000, 1.8598369622364976], [1743312600000, 1.0059256160026142], [1743312900000, 0.025351796820650474], [1743313200000, 0.0], [1743313500000, 0.0], [1743313800000, 0.0], [1743314100000, 0.0], [1743314400000, 0.0], [1743314700000, 0.0], [1743315000000, 0.0], [1743315300000, 0.0], [1743315600000, 2.5237545990482606], [1743315900000, 1.6276224284983503], [1743316200000, 0.8581527308965206], [1743316500000, 0.0], [1743316800000, 0.0], [1743317100000, 0.0], [1743317400000, 0.0], [1743317700000, 0.0], [1743318000000, 0.0], [1743318300000, 0.0], [1743318600000, 0.0], [1743318900000, 0.0], [1743319200000, 2.650417071996341], [1743319500000, 1.8176161379204707], [1743319800000, 0.8792631430545338], [1743320100000, 0.0], [1743320400000, 0.0], [1743320700000, 0.0], [1743321000000, 0.0], [1743321300000, 0.0], [1743321600000, 0.0], [1743321900000, 0.0], [1743322200000, 0.0], [1743322500000, 0.0], [1743322800000, 2.46042336257422], [1743323100000, 1.5431807798662964], [1743323400000, 0.6681590214743997], [1743323700000, 0.0], [1743324000000, 0.0], [1743324300000, 0.0], [1743324600000, 0.0], [1743324900000, 0.0], [1743325200000, 0.0], [1743325500000, 0.0], [1743325800000, 0.0], [1743326100000, 0.0], [1743326400000, 2.7770795449444217], [1743326700000, 1.754284901446431], [1743327000000, 0.8370423187385075], [1743327300000, 1.5241910600396023], [1743327600000, 0.6280588894896922], [1743327900000, 0.0], [1743328200000, 0.0], [1743328500000, 0.0], [1743328800000, 0.0], [1743329100000, 0.0], [1743329400000, 0.0], [1743329700000, 0.0], [1743330000000, 2.692637896312368], [1743330300000, 1.7331744892884173], [1743330600000, 0.7948214944224804], [1743330900000, 0.0], [1743331200000, 0.0], [1743331500000, 0.0], [1743331800000, 0.0], [1743332100000, 0.0], [1743332400000, 0.0], [1743332700000, 0.0], [1743333000000, 0.0], [1743333300000, 0.0], [1743333600000, 2.6715274841543537], [1743333900000, 1.69095366497239], [1743334200000, 0.7103798457904263], [1743334500000, 0.0], [1743334800000, 0.0], [1743335100000, 0.0], [1743335400000, 0.0], [1743335700000, 0.0], [1743336000000, 0.0], [1743336300000, 0.0], [1743336600000, 0.0], [1743336900000, 0.0], [1743337200000, 2.39709212610018], [1743337500000, 1.4376287190762294], [1743337800000, 0.5203861363683059], [1743338100000, 0.0], [1743338400000, 0.0], [1743338700000, 0.0], [1743339000000, 0.0], [1743339300000, 0.0], [1743339600000, 0.0], [1743339900000, 0.0], [1743340200000, 0.0], [1743340500000, 0.0], [1743340800000, 2.502644186890247], [1743341100000, 1.56429119202431], [1743341400000, 0.562606960684333], [1743341700000, 0.0], [1743342000000, 0.0], [1743342300000, 0.0], [1743342600000, 0.0], [1743342900000, 0.0], [1743343200000, 0.0], [1743343500000, 0.0], [1743343800000, 0.0], [1743344100000, 0.0], [1743344400000, 2.692637896312368], [1743344700000, 1.7331744892884173], [1743345000000, 0.7737110822644669], [1743345300000, 0.0], [1743345600000, 0.0], [1743345900000, 0.0], [1743346200000, 0.0], [1743346500000, 0.0], [1743346800000, 0.0], [1743347100000, 0.0], [1743347400000, 0.0], [1743347700000, 0.0], [1743348000000, 2.692637896312368], [1743348300000, 1.7331744892884173], [1743348600000, 0.6892694336324136], [1743348900000, 0.0], [1743349200000, 0.0], [1743349500000, 0.0], [1743349800000, 0.0], [1743350100000, 0.0]], "lineStyle": {"type": "dashed", "width": 1.5}, "itemStyle": {"color": "#EE6666"}, "showSymbol": false}], "dataZoom": [{"type": "slider", "show": true, "xAxisIndex": [0], "start": 0, "end": 100, "bottom": 10}, {"type": "inside", "xAxisIndex": [0], "start": 0, "end": 100}]};
        
        chart.on('mouseover', function(params) {
            if (params.componentType === 'markPoint' && params.data && params.data.anomalyInfo) {
                var info = params.data.anomalyInfo;
                var content = 
                    '<div class="anomaly-tooltip">' +
                    '<div class="anomaly-tooltip-title">异常点 #' + info.id + '</div>' +
                    '<div class="anomaly-tooltip-item"><span class="anomaly-tooltip-label">方法:</span><span class="anomaly-tooltip-value">' + info.method + '</span></div>' + 
                    '<div class="anomaly-tooltip-item"><span class="anomaly-tooltip-label">时间:</span><span class="anomaly-tooltip-value">' + info.timestamp + '</span></div>' + 
                    '<div class="anomaly-tooltip-item"><span class="anomaly-tooltip-label">数值:</span><span class="anomaly-tooltip-value">' + info.value.toFixed(2) + '</span></div>' + 
                    '<div class="anomaly-tooltip-item"><span class="anomaly-tooltip-label">说明:</span><span class="anomaly-tooltip-value">' + info.explanation + '</span></div>' +
                    '</div>';
                
                chart.setOption({
                    tooltip: {
                        formatter: content,
                        extraCssText: 'padding: 0; border: none; background: transparent;'
                    }
                });
            }
            else if (params.componentType === 'markArea' && params.data && params.data[0] && params.data[0].anomalyInfo) {
                var info = params.data[0].anomalyInfo;
                var content = 
                    '<div class="anomaly-tooltip">' +
                    '<div class="anomaly-tooltip-title">异常区间 #' + info.id + '</div>' +
                    '<div class="anomaly-tooltip-item"><span class="anomaly-tooltip-label">方法:</span><span class="anomaly-tooltip-value">' + info.method + '</span></div>' + 
                    '<div class="anomaly-tooltip-item"><span class="anomaly-tooltip-label">开始:</span><span class="anomaly-tooltip-value">' + info.startTime + '</span></div>' + 
                    '<div class="anomaly-tooltip-item"><span class="anomaly-tooltip-label">结束:</span><span class="anomaly-tooltip-value">' + info.endTime + '</span></div>' + 
                    '<div class="anomaly-tooltip-item"><span class="anomaly-tooltip-label">说明:</span><span class="anomaly-tooltip-value">' + info.explanation + '</span></div>' +
                    '</div>';
                
                chart.setOption({
                    tooltip: {
                        formatter: content,
                        extraCssText: 'padding: 0; border: none; background: transparent;'
                    }
                });
            }
        });
        
        chart.on('mouseout', function(params) {
            if (params.componentType === 'markPoint' || params.componentType === 'markArea') {
                //恢复默认tooltip
                chart.setOption({
                    tooltip: {
                        formatter: null,
                        extraCssText: option.tooltip.extraCssText
                    }
                });
            }
        });
        
        chart.setOption(option);
        window.addEventListener('resize', function() {
            chart.resize();
        });
    </script>
</body>
</html>