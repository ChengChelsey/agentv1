<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>时序数据异常检测报告</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { padding: 20px; }
        .iframe-container { width: 100%; height: 650px; border: none; }
        .markdown-content { line-height: 1.6; }
        .markdown-content h3 { margin-top: 20px; margin-bottom: 15px; color: #333; font-size: 1.4rem; }
        .markdown-content h2 { margin-top: 25px; margin-bottom: 15px; color: #222; font-size: 1.6rem; }
        .markdown-content h1 { margin-top: 30px; margin-bottom: 20px; color: #111; font-size: 1.8rem; }
        .markdown-content p { margin-bottom: 15px; font-size: 1rem; }
        .markdown-content strong { font-weight: 600; color: #444; }
        .markdown-content ul, .markdown-content ol { margin-bottom: 15px; padding-left: 25px; }
        .markdown-content li { margin-bottom: 5px; }
        .info-box { 
            border: 1px solid #ddd; 
            border-radius: 5px; 
            padding: 10px; 
            margin-bottom: 15px; 
            background-color: #f9f9f9; 
        }
        .hint-text {
            font-style: italic;
            color: #666;
            margin-top: 5px;
            font-size: 0.9em;
        }
        .ai-analysis {
            background-color: #f8f9fa;
            border-left: 4px solid #17a2b8;
            padding: 15px;
            margin: 20px 0;
        }
        .ai-analysis-title {
            color: #17a2b8;
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 1.2rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="mt-4 mb-4">时序数据异常检测报告</h1>
        
        <div class="card mb-4">
            <div class="card-header">
                <strong>用户问题</strong>
            </div>
            <div class="card-body">
                <p>查询昨天和前天的cpu</p>
            </div>
        </div>
        
        <div class="card mb-4">
            <div class="card-header">
                <strong>分析结论</strong>
            </div>
            <div class="card-body">
                <div class="alert alert-success">
                    <h4>综合判定: 正常</h4>
                    <p>综合得分: 0.13</p>
                </div>
                
                <!-- 大模型分析报告 -->
                <div class="ai-analysis">
                    <div class="markdown-content">
                        <h2>单序列异常检测分析报告</h2>
<h3>总体异常状况摘要</h3>
<p>本次异常检测针对用户查询的昨天和前天的CPU使用情况进行了分析，整体上被分类为正常状态，综合得分为0.13，表明异常程度较低。尽管如此，检测过程中发现了一个异常点，这可能暗示着潜在的问题或异常情况，需要进一步调查。</p>
<h3>各检测方法发现的问题分析</h3>
<p>在本次检测中，我们采用了CUSUM（累积和）算法进行异常检测。CUSUM算法通过检测序列中累计偏移量的变化来识别异常点。根据检测结果，CUSUM算法发现了一个异常点，其CUSUM值为5.35，超过了设定的阈值5.0。这表明在特定时间段内，CPU使用率的变化趋势与预期存在显著差异，可能反映了系统负载的突然增加或减少。</p>
<h3>可能的原因分析</h3>
<li><strong>突发性任务执行</strong>：可能是由于系统中突然执行了高负载的任务，导致CPU使用率短时间内急剧上升。</li>
<li><strong>系统资源竞争</strong>：如果多个高负载进程同时运行，可能会导致CPU资源竞争加剧，进而影响CPU使用率。</li>
<li><strong>硬件故障</strong>：虽然可能性较小，但也不能排除硬件故障导致的CPU使用率异常。</li>
<li><strong>软件错误</strong>：可能存在软件错误或bug，导致CPU使用率异常波动。</li>
<h3>建议的后续操作</h3>
<li><strong>详细日志分析</strong>：检查系统日志，寻找与异常点对应的时间段内发生的事件，如任务调度、系统启动或停止等。</li>
<li><strong>性能监控</strong>：增加对CPU使用率的实时监控，以便及时发现并处理异常情况。</li>
<li><strong>资源分配优化</strong>：根据日志分析结果，优化系统资源分配，避免资源竞争。</li>
<li><strong>软件检查</strong>：检查相关软件版本，确保没有已知的bug或性能问题。</li>
<li><strong>硬件检查</strong>：定期进行硬件健康检查，确保硬件设备正常运行。</li>
<p>通过上述措施，可以有效识别并解决潜在的问题，确保系统的稳定运行。</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="card mb-4">
            <div class="card-header">
                <strong>异常检测图表</strong>
            </div>
            <div class="card-body p-0">
                <div class="info-box">
                    <p class="hint-text">提示: 将鼠标悬停在异常点上可查看详细信息。</p>
                </div>
                <iframe class="iframe-container" src="summary.html"></iframe>
            </div>
        </div>
        
        <h2 class="mt-4 mb-3">检测方法摘要</h2>
        
        <div class="card mb-2">
            <div class="card-header">
                <strong>Z-Score</strong>
            </div>
            <div class="card-body">
                <p>使用Z-Score方法(阈值=3.5)检测到0个异常点</p>
            </div>
        </div>
        
        <div class="card mb-2">
            <div class="card-header">
                <strong>CUSUM</strong>
            </div>
            <div class="card-body">
                <p>CUSUM累积偏移检测到 1 个异常区段，共 1 个高偏移点</p>
            </div>
        </div>
        
        
        <footer class="mt-5 text-center text-muted">
            <p>生成时间: 2025-03-31 19:37:04</p>
        </footer>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>